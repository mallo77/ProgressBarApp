!function(){var a=[{id:1,value:25,width:25},{id:2,value:50,width:50},{id:3,value:75,width:75}],b=[{id:1,name:"Progress #1",selected:!0},{id:2,name:"Progress #2",selected:!1},{id:3,name:"Progress #3",selected:!1}],c=[{value:"-25",label:"-25"},{value:"-10",label:"-10"},{value:"10",label:"10"},{value:"25",label:"25"}],d=function(){var a=b.filter(function(a){return a.selected});return a&&a.length>0?a[0].id:1},e=Ractive.extend({template:"#tmpl-button",oninit:function(){this.on("buttonClicked",function(b){var c=parseInt(b.context.value,10),e=parseInt(d(),10);0!==c&&a.forEach(function(a,b){if(a.id===e){var d=a.value+c;d=0>d?0:d,d>100?(a.overflow=!0,a.width=100):(a.overflow=!1,a.width=d),a.value=d}});var f=h.findComponent("myProgressBar");f&&f.update()})},data:{buttons:function(){return c}}}),f=Ractive.extend({template:"#tmpl-selector",oninit:function(){this.on("activateBar",function(){var a=this.get("selectedBar");b.forEach(function(b,c){a===b.id?b.selected=!0:b.selected=!1})}),this.set("selectedBar",d())},data:{selectedBar:null,options:function(){return b}}}),g=Ractive.extend({template:"#tmpl-progressbar",data:{bars:function(){return a}}}),h=new Ractive({el:"#demo",template:"#tmpl-app",components:{myButton:e,mySelector:f,myProgressBar:g}})}();